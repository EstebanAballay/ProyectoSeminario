<!-- Encabezado -->
<div class="header">
    <div class="logo">
        <img src="assets/logo.png" alt="Logo Grafo" />
    </div>
    <div class="profile-icon"></div>
</div>

<!-- Contenido -->
<div class="container">
    <h2>Crear nuevo viaje</h2>

    <!-- Tarjeta del formulario -->
    <div class="form-card">
        <form (submit)="crearViaje($event)">
            <div>
                <label for="origen">Origen:</label>
                <input id="origen" type="text" #origenInput placeholder="Ej: C贸rdoba" />
                <!-- Bot贸n para confirmar origen -->
                <button type="button" (click)="confirmarOrigen()">OK</button>
            </div>

            <div>
                <label for="destino">Destino:</label>
                <input id="destino" type="text" #destinoInput placeholder="Seleccion谩 en el mapa" readonly />
            </div>

            <div>
                <label for="fechaSalida">Fecha de salida:</label>
                <input id="fechaSalida" type="date" #fechaSalidaInput />
            </div>

            <!-- Mostrar los camiones agregados -->
            <div>
                <label>Camiones agregados:</label>
                <ul>
                    <li *ngFor="let camion of camionesSeleccionados">
                        {{ camion.tipo }} - {{ camion.remolque }} - {{ camion.semirremolque }}
                    </li>
                </ul>
            </div>

            <!-- Bot贸n para abrir selector de veh铆culo -->
            <div>
                <button type="button" (click)="abrirSelectorVehiculo()"> Agregar cami贸n</button>
            </div>

            <button type="submit" class="btn-submit"> Crear Viaje</button>
        </form>
    </div>

    <!-- Contenedor del mapa -->
    <div id="map" style="height: 400px;"></div>
</div>

<!-- Modal de selecci贸n de veh铆culo -->
<div *ngIf="mostrarSelector" class="modal">
    <div class="modal-content">
        <h3>Seleccionar cami贸n</h3>

        <div>
            <label for="tipoCamion">Tipo de cami贸n:</label>
            <select id="tipoCamion" [(ngModel)]="tipoCamionSeleccionado">
                <option value="" disabled selected>Seleccione un tipo</option>
                    <option *ngFor="let tipo of tiposCamion" [value]="tipo">
                        {{ tipo }}
                    </option>
            </select>
        </div>

        <div>
            <label for="remolque">Tipo de semirremolque</label>
            <select id="remolque" [(ngModel)]="remolqueSeleccionado" (change)="toggleAcoplado()">
            <option value="" disabled selected>Seleccione un remolque</option>
                <option *ngFor="let tipo of tiposSemirremolque" [value]="tipo">
                    {{ tipo }}
                </option>
            </select>
        </div>

        <!-- Campo de tipo de semirremolque, solo visible si elige "S铆" -->
        <label for="acoplado">Tipo de Acoplado</label>
        <select id="acoplado" [(ngModel)]="acopladoSeleccionado" (change)="toggleSemirremolque()">
        <option value="" disabled selected>Seleccione un Acoplado</option>
            <option *ngFor="let tipo of tiposAcoplado" [value]="tipo">
                {{ tipo }}
            </option>
        </select>

        <div class="modal-actions">
            <button type="button" (click)="agregarCamion()">Agregar cami贸n</button>
            <button type="button" (click)="cerrarSelector()">Cancelar</button>
        </div>
    </div>
</div>
